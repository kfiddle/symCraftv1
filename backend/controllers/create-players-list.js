const Player = require('../models/player');
const Inst = require('../models/inst');
const HttpError = require('../utils/http-error');

const allPlayers = [
  {
    first: 'Leanne',
    last: 'Wistrom',
    type: 'contract',
    rank: 1,
    insts: ['flute'],
    email: 'lw@Email',
  },
  {
    first: 'Sean',
    last: 'Gabriel',
    type: 'contract',
    rank: 2,
    insts: ['flute'],
    email: 'sg@Email',
  },
  {
    first: 'Danna',
    last: 'Sundet',
    type: 'contract',
    rank: 1,
    insts: ['oboe'],
    email: 'ds@Email',
  },
  {
    first: 'Heather',
    last: 'Story',
    type: 'contract',
    rank: 2,
    insts: ['oboe'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Sarah',
    last: 'Hamilton',
    type: 'contract',
    rank: 3,
    insts: ['oboe'],
    email: 'sh@Email',
  },
  {
    first: 'Ami',
    last: 'Vardi',
    type: 'contract',
    rank: 1,
    insts: ['clarinet'],
    email: 'av@Email',
  },
  {
    first: 'Benjamin',
    last: 'Chen',
    type: 'contract',
    rank: 2,
    insts: ['clarinet'],
    email: 'bc@Email',
  },
  {
    first: 'David',
    last: 'Boutin-Bourque',
    type: 'contract',
    rank: 3,
    insts: ['clarinet', 'bass clarinet'],
    email: 'dbb@Email',
  },
  {
    first: 'KeriAnn',
    last: 'DiBari-Oberle',
    type: 'contract',
    rank: 4,
    insts: ['clarinet', 'Eb clarinet'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Laura',
    last: 'Koepke',
    type: 'contract',
    rank: 1,
    insts: ['bassoon'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Sarah Elizabeth',
    last: 'Lee',
    type: 'contract',
    rank: 2,
    insts: ['bassoon'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Chris',
    last: 'Rapier',
    type: 'contract',
    rank: 1,
    insts: ['horn'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Mark',
    last: 'Addleman',
    type: 'contract',
    rank: 2,
    insts: ['horn'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Emily',
    last: 'Shelley',
    type: 'contract',
    rank: 3,
    insts: ['horn'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Bryan',
    last: 'Adkins',
    type: 'contract',
    rank: 4,
    insts: ['horn'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Benjamin',
    last: 'Strecker',
    type: 'contract',
    rank: 5,
    insts: ['horn'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Gary',
    last: 'Davis',
    type: 'contract',
    rank: 1,
    insts: ['trumpet'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Douglas',
    last: 'Amos',
    type: 'contract',
    rank: 2,
    insts: ['trumpet'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Micah',
    last: 'Holt',
    type: 'contract',
    rank: 3,
    insts: ['trumpet'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Whitney',
    last: 'Claire',
    type: 'contract',
    rank: 1,
    insts: ['trombone'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Sean',
    last: 'Bessette',
    type: 'contract',
    rank: 1,
    insts: ['bass trombone'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Ken',
    last: 'Heinlein',
    type: 'contract',
    rank: 1,
    insts: ['tuba'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Brad',
    last: 'Amidon',
    type: 'contract',
    rank: 1,
    insts: ['percussion'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Matt',
    last: 'Larson',
    type: 'contract',
    rank: 2,
    insts: ['percussion'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Melody',
    last: 'Rapier',
    type: 'contract',
    rank: 1,
    insts: ['harp'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Ken',
    last: 'Johnston',
    type: 'contract',
    rank: 1,
    insts: ['violin1'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Minju',
    last: 'Kim',
    type: 'contract',
    rank: 2,
    insts: ['violin1'],
    email: 'minjuk622@gmail.com',
  },
  {
    first: 'Sandro',
    last: 'Leal-Santiesteban',
    type: 'contract',
    rank: 2,
    email: 'minjuk622@gmail.com',

    insts: ['violin1'],
  },
  {
    first: 'Joshua',
    last: 'Huang',
    type: 'contract',
    rank: 3,
    email: 'minjuk622@gmail.com',
    insts: ['violin1'],
  },
  {
    first: 'Melissa',
    last: 'Hernandez',
    type: 'contract',
    rank: 3,
    email: 'minjuk622@gmail.com',
    insts: ['violin1'],
  },
  {
    first: 'Alexander',
    last: 'Hettinga',
    type: 'contract',
    email: 'minjuk622@gmail.com',

    rank: 3,
    insts: ['violin1'],
  },
  {
    first: 'Stefanie',
    last: 'Schore',
    type: 'contract',
    email: 'minjuk622@gmail.com',

    rank: 3,
    insts: ['violin1'],
  },
  {
    first: 'Yejee',
    last: 'Kim',
    type: 'contract',
    rank: 3,
    insts: ['violin1'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Maura',
    last: 'Pelinsky',
    type: 'contract',
    rank: 3,
    insts: ['violin1'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Janice',
    last: 'Carlson',
    type: 'contract',
    rank: 3,
    insts: ['violin1'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Jonathan',
    last: 'Moser',
    type: 'contract',
    rank: 1,
    insts: ['violin2'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Jennifer',
    last: 'Jansen',
    type: 'contract',
    rank: 3,
    insts: ['violin2'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Tobias',
    last: 'Chisnall',
    type: 'contract',
    rank: 3,
    insts: ['violin2'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Jiyeon',
    last: 'Yeo',
    type: 'contract',
    rank: 3,
    insts: ['violin2'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Colleen',
    last: 'Vanderzyden',
    type: 'contract',
    rank: 3,
    insts: ['violin2'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Karen',
    last: 'Ferren',
    type: 'contract',
    rank: 3,
    insts: ['violin2'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Howard',
    last: 'Lyon',
    type: 'contract',
    rank: 3,
    insts: ['violin2'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Emilie',
    last: 'Engel',
    type: 'contract',
    rank: 3,
    insts: ['violin2'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Ji Young',
    last: 'Nam',
    type: 'contract',
    rank: 1,
    insts: ['viola'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Si',
    last: 'Yu',
    type: 'contract',
    rank: 3,
    insts: ['viola'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Benjamin',
    last: 'Schantz',
    type: 'contract',
    rank: 3,
    insts: ['viola'],
    email: 'kenjfiddle@gmail.com',
  },

  {
    first: 'Benjamin',
    last: 'Schantz',
    type: 'contract',
    rank: 3,
    insts: ['viola'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Eri',
    last: 'Snowden-Rodriguez',
    type: 'contract',
    rank: 1,
    insts: ['cello'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Will',
    last: 'Teegarden',
    type: 'contract',
    rank: 2,
    insts: ['cello'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Nadine',
    last: 'Sherman',
    type: 'contract',
    rank: 3,
    insts: ['cello'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Jeff',
    last: 'Singler',
    type: 'contract',
    rank: 3,
    insts: ['cello'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Robert',
    last: 'Nicholson',
    type: 'contract',
    rank: 3,
    insts: ['cello'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Jean',
    last: 'Verdecchia',
    type: 'contract',
    rank: 3,
    insts: ['cello'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Kieran',
    last: 'Hanlon',
    type: 'contract',
    rank: 1,
    insts: ['bass'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Joseph',
    last: 'Hernandez',
    type: 'contract',
    rank: 2,
    insts: ['bass'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Thomas',
    last: 'Christopherson',
    type: 'contract',
    rank: 3,
    insts: ['bass'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'James',
    last: 'Mohney',
    type: 'contract',
    rank: 3,
    insts: ['bass'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Maria',
    last: 'Park',
    type: 'sub',
    rank: 1,
    insts: ['violin'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Mike',
    last: 'Chen',
    type: 'sub',
    rank: 1,
    insts: ['flute'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Diana',
    last: 'Pepelea',
    type: 'sub',
    rank: 1,
    insts: ['flute'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Sam',
    last: 'Petrey',
    type: 'sub',
    rank: 1,
    insts: ['flute'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Maija',
    last: 'Anstine',
    type: 'sub',
    rank: 1,
    insts: ['viola'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Chris',
    last: 'Blaha',
    type: 'sub',
    rank: 1,
    insts: ['tuba'],
    email: 'kenjfiddle@gmail.com',
  },
  {
    first: 'Erik',
    last: 'Sundet',
    type: 'sub',
    rank: 1,
    insts: ['trumpet'],
    email: 'kenjfiddle@gmail.com',
  },
];

const createAllFromList = async () => {
  for (let player of allPlayers) {
    let playersInsts = [];
    try {
      for (let inst of player.insts) {
        let foundInst = await Inst.findOne({ name: inst });
        playersInsts.push(foundInst._id);
      }
    } catch (err) {
      console.log(err);
    }

    let { first, last, email, type, rank } = player;
    const newPlayer = new Player({
      first,
      last,
      email,
      type,
      rank,
      insts: playersInsts,
    });

    try {
      await newPlayer.save();

      for (let instId of playersInsts) {
        let foundInst = await Inst.findById(instId);
        foundInst.players.push(newPlayer.id);
        await foundInst.save();
      }
    } catch (err) {
      console.log(err);
    }
  }
};

module.exports = { createAllFromList };
